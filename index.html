<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>N+7</title>

    <meta name="description" content="A simple exercise template." />
    <!-- styles -->
    <style></style>
  </head>
  <body>
    <h1>N+7</h1>
    <h2>Source text</h2>
    <p id="sourceText"></p>
    <h2>New text</h2>
    <p id="newText"></p>
    <!-- script -->
    <script>
      let nouns;
      const sourceText = `Let me know when you’re ready. Mothers will never again be forced to watch their children overdosing and hopelessly dying in their arms screaming, “What can I do? What can I do?” We are a nations whose once revered airports are a dirty crowded mess. You sit and wait for hours and then are notified that the plane won’t leave and they have no idea when they will, where the ticket prices have tripled. They don’t have the pilots to fly the planes. They don’t seek qualified air traffic controllers and they just don’t know what the hell they’re doing. We are a nation that has lost its confidence, willpower, and strength. We are a nation that has lost its way, but we are not going to allow this horror to continue. Three years ago we were a great nation and we will soon be a great nation again. It was hard-working patriots like you who built this country and it is hard-working patriots like you who are going to save our country. We will fight for America like no one has ever fought before. With you at my side, we will demolish the deep state, we will drive out the globalists, we will cast out the communists, we will throw off the sick political glass. We will rout the fake news media. We will drain the swamp and we will liberate our country from these tyrants and villains once and for all. We will be liberated. Like those patriots before us, we will not bend, we will not break, we will not yield. We will never give in. We will never give up and we will never, ever back down. With your support, we will go on to victory, the likes of which no one has ever seen before. We will evict crooked Joe Biden from the White House and we will take back our country on election day 2024. The great silent majority is rising like never before. And under our leadership, the forgotten men and women will be forgotten no longer. We will love our country. We will take care of our country. We will pray to God for our strength and for our liberty. We will pray for God and we will pray with God. We are one movement, one people, one family, and one glorious nation under God. And together we will make America powerful again. We will make America wealthy again. We will make America strong again. We will make America proud again. We will make America safe again. And we will make America great again. Thank you very much. Thank you Reno. Thank you Reno. Thank you Nevada. God bless you all. God bless you.`;
      const wordOffset = 7;
      function generateNewText(text) {
        let splitText = text.split(" ");
        let newText = "";
        for (const word of splitText) {
          let indexInList = nouns.indexOf(word);
          let newWord;
          if (indexInList > -1) {
            if (nouns[indexInList + wordOffset]) {
              newWord = nouns[indexInList + wordOffset];
            }
          } else {
            newWord = word;
          }
          if (newText === "") {
            newText = newWord;
          } else {
            newText = newText + " " + newWord;
          }
        }
        return newText;
      }
      function initPoem(nounList) {
        nouns = nounList.split(/\r?\n/);
        newText = generateNewText(sourceText);
        document.getElementById("sourceText").innerHTML = sourceText;
        document.getElementById("newText").innerHTML = newText;
      }
      fetch("nounlist.txt")
        .then((response) => response.text())
        .then((textContent) => initPoem(textContent));
    </script>
    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div
      class="glitchButton"
      style="position: fixed; top: 20px; right: 20px"
    ></div>
    <script src="https://button.glitch.me/button.js" defer></script>
  </body>
</html>
